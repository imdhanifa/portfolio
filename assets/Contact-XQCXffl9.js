import{M as H,j as e,i as D,a as L,P as F,b as W,c as q,d as G,u as _,L as K,m as j}from"./index-r3NW-1la.js";import{b as s,L as $}from"./react-0iGBBWI7.js";function M(r,a){if(typeof r=="function")return r(a);r!=null&&(r.current=a)}function O(...r){return a=>{let t=!1;const i=r.map(o=>{const n=M(o,a);return!t&&typeof n=="function"&&(t=!0),n});if(t)return()=>{for(let o=0;o<i.length;o++){const n=i[o];typeof n=="function"?n():M(r[o],null)}}}}function U(...r){return s.useCallback(O(...r),r)}class Y extends s.Component{getSnapshotBeforeUpdate(a){const t=this.props.childRef.current;if(t&&a.isPresent&&!this.props.isPresent){const i=t.offsetParent,o=D(i)&&i.offsetWidth||0,n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft,n.right=o-n.width-n.left}return null}componentDidUpdate(){}render(){return this.props.children}}function A({children:r,isPresent:a,anchorX:t,root:i}){const o=s.useId(),n=s.useRef(null),p=s.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:g}=s.useContext(H),b=U(n,r?.ref);return s.useInsertionEffect(()=>{const{width:l,height:x,top:c,left:h,right:d}=p.current;if(a||!n.current||!l||!x)return;const u=t==="left"?`left: ${h}`:`right: ${d}`;n.current.dataset.motionPopId=o;const m=document.createElement("style");g&&(m.nonce=g);const w=i??document.head;return w.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${o}"] {
            position: absolute !important;
            width: ${l}px !important;
            height: ${x}px !important;
            ${u}px !important;
            top: ${c}px !important;
          }
        `),()=>{w.contains(m)&&w.removeChild(m)}},[a]),e.jsx(Y,{isPresent:a,childRef:n,sizeRef:p,children:s.cloneElement(r,{ref:b})})}const B=({children:r,initial:a,isPresent:t,onExitComplete:i,custom:o,presenceAffectsLayout:n,mode:p,anchorX:g,root:b})=>{const l=L(J),x=s.useId();let c=!0,h=s.useMemo(()=>(c=!1,{id:x,initial:a,isPresent:t,custom:o,onExitComplete:d=>{l.set(d,!0);for(const u of l.values())if(!u)return;i&&i()},register:d=>(l.set(d,!1),()=>l.delete(d))}),[t,l,i]);return n&&c&&(h={...h}),s.useMemo(()=>{l.forEach((d,u)=>l.set(u,!1))},[t]),s.useEffect(()=>{!t&&!l.size&&i&&i()},[t]),p==="popLayout"&&(r=e.jsx(A,{isPresent:t,anchorX:g,root:b,children:r})),e.jsx(F.Provider,{value:h,children:r})};function J(){return new Map}const v=r=>r.key||"";function P(r){const a=[];return s.Children.forEach(r,t=>{s.isValidElement(t)&&a.push(t)}),a}const V=({children:r,custom:a,initial:t=!0,onExitComplete:i,presenceAffectsLayout:o=!0,mode:n="sync",propagate:p=!1,anchorX:g="left",root:b})=>{const[l,x]=W(p),c=s.useMemo(()=>P(r),[r]),h=p&&!l?[]:c.map(v),d=s.useRef(!0),u=s.useRef(c),m=L(()=>new Map),[w,I]=s.useState(c),[k,E]=s.useState(c);q(()=>{d.current=!1,u.current=c;for(let y=0;y<k.length;y++){const f=v(k[y]);h.includes(f)?m.delete(f):m.get(f)!==!0&&m.set(f,!1)}},[k,h.length,h.join("-")]);const N=[];if(c!==w){let y=[...c];for(let f=0;f<k.length;f++){const C=k[f],R=v(C);h.includes(R)||(y.splice(f,0,C),N.push(C))}return n==="wait"&&N.length&&(y=N),E(P(y)),I(c),null}const{forceRender:T}=s.useContext(G);return e.jsx(e.Fragment,{children:k.map(y=>{const f=v(y),C=p&&!l?!1:c===k||h.includes(f),R=()=>{if(m.has(f))m.set(f,!0);else return;let S=!0;m.forEach(z=>{z||(S=!1)}),S&&(T?.(),E(u.current),p&&x?.(),i&&i())};return e.jsx(B,{isPresent:C,initial:!d.current||t?void 0:!1,custom:a,presenceAffectsLayout:o,mode:n,root:b,onExitComplete:C?void 0:R,anchorX:g,children:y},f)})})};function Z(){const[r,a]=s.useState("form"),{data:t,loading:i,error:o}=_(d=>d.portfolio),[n,p]=s.useState({name:"",email:"",message:""}),[g,b]=s.useState(!1),[l,x]=s.useState(null),c=d=>{p({...n,[d.target.name]:d.target.value})},h=async d=>{d.preventDefault(),b(!0),x(null);try{const u=await fetch("https://portfolio-api-w6sj.onrender.com/api/mail",{method:"POST",headers:{"Content-Type":"application/json","x-api-key":"hanifa",accept:"application/json"},body:JSON.stringify(n)});if(!u.ok)throw new Error(`Failed with status ${u.status}`);await u.json()&&(x({type:"success",message:"Message sent successfully üöÄ"}),p({name:"",email:"",message:""}))}catch(u){x({type:"error",message:u.message||"Something went wrong!"})}finally{b(!1)}};return i?e.jsx(K,{}):o?e.jsxs("p",{className:"text-red-500 text-center mt-10",children:["Error: ",o]}):t?e.jsxs("section",{id:"contact",className:"flex flex-col justify-center px-6 w-full max-w-6xl mx-auto py-16",children:[e.jsx(j.h2,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.7},className:"text-4xl font-bold text-left mb-2 text-gray-900 dark:text-white",children:"Contact"}),e.jsx(j.h3,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"text-2xl font-semibold text-primary mb-6",children:"Get in touch before I write another line of code!"}),e.jsxs(j.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.3},className:"flex mb-6 border-b border-gray-300 dark:border-gray-700",children:[e.jsx("button",{onClick:()=>a("form"),className:`px-4 py-2 text-sm font-medium ${r==="form"?"border-b-2 border-primary text-primary":"text-gray-500 dark:text-gray-400"}`,children:"Form"}),e.jsx("button",{onClick:()=>a("details"),className:`px-4 py-2 text-sm font-medium ${r==="details"?"border-b-2 border-primary text-primary":"text-gray-500 dark:text-gray-400"}`,children:"Details"})]}),e.jsx(V,{mode:"wait",children:r==="form"?e.jsxs(j.form,{onSubmit:h,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block mb-1 font-medium text-gray-700 dark:text-gray-300",children:["Name",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{name:"name",value:n.name,onChange:c,type:"text",placeholder:"Your name, your fame",required:!0,className:`w-full px-4 py-2 rounded-md bg-transparent border border-gray-300 dark:border-gray-700 
                           text-gray-900 dark:text-white focus:ring-2 focus:ring-primary focus:outline-none`})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block mb-1 font-medium text-gray-700 dark:text-gray-300",children:["Email",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{name:"email",value:n.email,onChange:c,type:"email",placeholder:"Where can I reach you back?",required:!0,className:`w-full px-4 py-2 rounded-md bg-transparent border border-gray-300 dark:border-gray-700 
                           text-gray-900 dark:text-white focus:ring-2 focus:ring-primary focus:outline-none`})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block mb-1 font-medium text-gray-700 dark:text-gray-300",children:["Message",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{name:"message",value:n.message,onChange:c,rows:4,placeholder:"Your words, my inbox.",required:!0,className:`w-full px-4 py-2 rounded-md bg-transparent border border-gray-300 dark:border-gray-700 
                           text-gray-900 dark:text-white focus:ring-2 focus:ring-primary focus:outline-none`})]}),l&&e.jsx("p",{className:`text-sm ${l.type==="success"?"text-green-600 dark:text-green-400":"text-red-500"}`,children:l.message}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"submit",disabled:g,className:"flex-1 bg-primary text-white py-2 px-4 rounded-md font-medium shadow-md hover:opacity-90 transition disabled:opacity-50",children:g?"Sending...":"Submit"}),e.jsx(j.button,{whileHover:{scale:1.05},whileTap:{scale:.95},type:"reset",onClick:()=>p({name:"",email:"",message:""}),className:"flex-1 border border-gray-400 dark:border-gray-600 py-2 px-4 rounded-md font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-200/50 dark:hover:bg-gray-700/50 transition",children:"Reset"})]})]},"form"):e.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.5},className:"text-left space-y-4 text-gray-700 dark:text-gray-300",children:[e.jsx("p",{children:t.contact.location}),e.jsx("p",{children:e.jsx("a",{href:`mailto:${t.contact.email}`,className:"text-primary font-medium hover:underline",children:t.contact.email})}),e.jsx("p",{children:e.jsx("a",{href:`tel:${t.contact.phone}`,className:"text-primary font-medium hover:underline",children:t.contact.phone})}),e.jsxs("div",{className:"flex gap-6",children:[e.jsx("a",{href:t.contact.github,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline transition",children:"GitHub"}),e.jsx("a",{href:t.contact.linkedin,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline transition",children:"LinkedIn"})]})]},"details")}),e.jsxs(j.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"mt-10 flex justify-between text-sm text-primary font-medium",children:[e.jsx($,{to:"/education",className:"block rounded-md px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800",children:"‚Üê Education"}),e.jsx($,{to:"/stats",className:"block rounded-md px-3 py-2 text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800",children:"Stats ‚Üí"})]})]}):null}export{Z as default};
